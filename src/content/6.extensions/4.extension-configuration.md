---
title: Extension Configuration
description: Configuring extensions in the Glueful framework
navigation:
  icon: i-lucide-settings-2
---

This section covers how to configure extensions in the Glueful framework. Proper configuration allows you to customize extension behavior without modifying the extension code, promoting better maintainability and adaptability to different environments.

## Configuration Files

Glueful offers multiple ways to configure extensions, with configuration files being the primary method.

### Main Extensions Configuration

Extensions are enabled and configured globally in the `config/extensions.php` file:

```php
<?php
return [
  'enabled' => [
    'SocialLogin',
    'EmailNotification',
    // Add other extensions here
  ],
  'paths' => [
    'extensions' => '/path/to/extensions/',
  ],
];
```

This file specifies:
- **enabled**: An array of extension names that should be loaded and initialized
- **paths**: Directory paths where the framework should look for extensions

### Extension-specific Configuration

Each extension can have its own configuration file, typically named `config.php` within the extension's directory:

```php
<?php
/**
 * Extension Configuration
 */
return [
    'option1' => 'value1',
    'option2' => 'value2',
    // Extension-specific configuration options
];
```

### Accessing Configuration in Extensions

Extensions can access their configuration using the static `getConfig()` method:

```php
// Inside your extension class
$config = \Glueful\Extensions\YourExtension::getConfig();

// Access configuration values
$option1 = $config['option1'] ?? 'default_value';
```

## Environment Variables

Glueful's extension system supports environment variables for configuration, which is particularly useful for:
- Security-sensitive information (API keys, secrets)
- Environment-specific settings
- Development vs. production configurations

### Setting Environment Variables

Environment variables are typically defined in the `.env` file at the project root:

```
# Extension-specific environment variables
GOOGLE_CLIENT_ID=your-client-id
GOOGLE_CLIENT_SECRET=your-client-secret
MAIL_HOST=smtp.example.com
MAIL_PORT=587
```

### Using Environment Variables in Extensions

Extensions can retrieve environment variables with the `getenv()` or `env()` helper function:

```php
// Inside your extension
$clientId = getenv('GOOGLE_CLIENT_ID') ?: '';
// Or using the env() helper with a default value
$smtpHost = env('MAIL_HOST', 'smtp.default.com');
```

### Extension-Specific Environment Variables Pattern

For robust extension configuration, implement a pattern that combines configuration files with environment variables:

```php
// Load configuration from extension settings or environment
$config = \Glueful\Extensions\YourExtension::getConfig();

// Make sure the config has the expected structure
if (!is_array($config) || !isset($config['service']) || !is_array($config['service'])) {
    $config = [
        'service' => []
    ];
}

// Get config value with fallback to environment variable
$apiKey = !empty($config['service']['api_key']) ? 
          $config['service']['api_key'] : 
          (getenv('SERVICE_API_KEY') ?: '');
```

### Common Environment Variables for Extensions

Depending on the extension type, you may need specific environment variables:

#### Authentication Extensions
```
# OAuth Providers
GOOGLE_CLIENT_ID=...
GOOGLE_CLIENT_SECRET=...
GOOGLE_REDIRECT_URI=https://yourdomain.com/auth/social/google/callback

FACEBOOK_APP_ID=...
FACEBOOK_APP_SECRET=...
```

#### Email Extensions
```
MAIL_HOST=smtp.example.com
MAIL_PORT=587
MAIL_USERNAME=your-username
MAIL_PASSWORD=your-password
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=noreply@example.com
MAIL_FROM_NAME="Your Application"
```

## Runtime Configuration

Some extension settings may need to be adjusted during runtime, without restarting the application.

### Admin Interface Configuration

Extensions can expose configuration options through the admin interface, allowing authorized users to modify settings without editing files:

1. Register configuration options through the admin dashboard
2. Store settings in the database
3. Access runtime settings through your extension's API

### Configuration Caching

For better performance, extension configurations can be cached:

```php
// Cache extension configuration
php glueful cache set extension_config:YourExtension "{'setting1':'value1'}" 3600
```

To clear the cache when configuration changes:

```php
php glueful cache delete extension_config:YourExtension
```

### Conditional Configuration

Extensions can adapt their behavior based on the current environment:

```php
// Inside your extension
$environment = env('APP_ENV', 'production');

if ($environment === 'development') {
    // Development-specific configuration
    $debugMode = true;
    $logLevel = 'debug';
} else {
    // Production configuration
    $debugMode = false;
    $logLevel = 'error';
}
```

## Best Practices

When configuring extensions in Glueful, follow these best practices:

1. **Security First**: Never hardcode sensitive information (API keys, passwords) in extension code
2. **Fallbacks**: Always provide fallback values when accessing configuration
3. **Validation**: Validate configuration values to prevent runtime errors
4. **Documentation**: Document all configuration options with examples
5. **Minimal Requirements**: Only require essential configuration; make everything else optional
6. **Consistent Naming**: Use consistent naming conventions for configuration keys and environment variables
7. **Extension Namespace**: Prefix environment variables with your extension name to avoid conflicts
